import "std/core.sunder";
import "std/general_allocator.sunder";

func main() void {
    var allocator = std::general_allocator::init();

    var result = allocator.allocate(9, 4096);
    dump std::slice[[byte]]::is(result.error(), std::allocator::ERROR_INVALID_ALIGNMENT);

    var result = allocator.allocate(123, 4096);
    dump std::slice[[byte]]::is(result.error(), std::allocator::ERROR_INVALID_ALIGNMENT);

    var result = allocator.allocate(8, 0);
    var result = allocator.reallocate(result.value(), 9, 0, 1);
    dump std::slice[[byte]]::is(result.error(), std::allocator::ERROR_INVALID_ALIGNMENT);

    allocator.fini();
}
################################################################################
# 01
# 01
# 01
